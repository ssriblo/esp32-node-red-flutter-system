ls
uname -a
lscpu
free -h
MemTotal:       2048000 kB
ps aux
toph
top -h
top
sudo apt-get update
sudo apt update
sudo su
sudo yum update -y
pwd
time
date
curl -fsSL https://rpm.nodesource.com/setup_22.x | sudo bash -
sudo yum install -y nsolid
ps aux |grep node
kill 7351
ps aux |grep node
kill 24344
ss -tuln | grep 1880
ps aux |grep node
kill 24385
ss -tuln | grep 1880
free -h
df
df -h
sudo fallocate -l 4G /swapfile
ls -ltr
ls
pwd
cd /
ls -l
sudo chmod 600 /swapfile
ls -l
sudo mkswap /swapfile
sudo swapon /swapfile
cd /etc/
ls
vi fstab 
sudo vi fstab 
free -h
sudo yum clean all
sudo rm -f /var/lib/rpm/__db* /var/lib/rpm/.dbenv.lock /var/lib/rpm/.rpm.lock
sudo rpm --rebuilddb
sudo yum update
history
curl -sL https://rpm.nodesource.com/setup_16.x | sudo bash -
sudo yum install -y nodejs
sudo npm install -g --unsafe-perm node-red
sudo dnf module enable nodejs:20     # например, выбираем версию 20
sudo dnf install nodejs -y
node --version
npm --version
npm
cat /etc/os-release
sudo dnf module enable nodejs:20 
sudo dnf install nodejs -y
dnf clean packages
sudo dnf install nodejs -y
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.5/install.sh | bash
source ~/.bashrc
nvm install --lts
node --version
npm --version
sudo npm install -g --unsafe-perm node-red
npm
sudo npm
npm install -g --unsafe-perm node-red
node-red-start
npm install -g --unsafe-perm node-red
npm fund
node-red start
я
q
sudo firewall-cmd --permanent --add-port=1880/tcp
sudo firewall-cmd --reload
pwd
cd
pwd
ls
ls -a
cd .node-red/
ls
ls -l
vi settings.js 
node-red stop
node-red start
cd .node-red/
ls
ls -l
npm install node-red-dashboard
node-red stop
ps aux |grep node
kill 127436
лс
ls
cat settings.js 
node-red admin init
ps aux |grep node
kill 127751
cd ~/.node-red
npm install node-red-contrib-influxdb
node-red
ps aux |grep node
kill 129753
sudo vi /etc/systemd/system/node-red.service
sudo systemctrl daemon-reload
sudo systemctl daemon-reload
sudo systemctl enable node-red
sudo systemctl start node-red
sudo systemctl stop node-red
sudo systemctl restart node-red
sudo systemctl status node-red
sudo systemctl start node-red
sudo systemctl status node-red
journalctl -u node-red -f
ps aux |grep mosq
kill 233671
ps aux |grep mosq
mosquitto_pub -h localhost -t test/topic -m "hello world"
mosquitto_pub -h localhost -t test/topic -m "hello world222"
sudo systemctl status mosquitto
view /etc/mosquitto/mosquitto.conf
ls /etc/mosquitto/mosquitto.conf
cd /
cd usr/local/etc/mosquitto/
ls -l
cd /
cd -
pwd
cat mosquitto.conf 
view mosquitto.conf 
pwd
view mosquitto.conf 
sudo ss -tuln | grep 1883
sudo pkill mosquitto
mosquitto -c /usr/local/etc/mosquitto/mosquitto.conf 
ps aux flutter
ps aux |grep flutter
ps aux |grep node
sudo systemctl restart nodered.service
node-red start
/home/opc/.nvm/versions/node/v22.18.0/bin/node-red
/home/opc/.nvm/versions/node/v20.9.0/bin/node
/home/opc/.nvm/versions/node/v20.9.0/bin/npm
cd
cd .nvm/versions/node/v22.18.0/bin/
ls -l
sudo mv /home/opc/.nvm/versions/node/v22.18.0/bin/node-red /usr/local/bin/
sudo restorecon -v /usr/local/bin/node-red:contentReference[oaicite:2]{index=2}
ls /usr/local/bin/node-red 
ls -l /usr/local/bin/node-red 
/usr/local/bin/node-red
ls -l /home/opc/.nvm/versions/node/v22.18.0/bin/
ls
cd ..
ls
cd ..
ls
which node
which npm
ps aux |grep node
kill 135348
ps aux |grep node
kill 135459
history
node-red-pi 
whom node-red
cd .node-red/
ls
ls -l
cat start
ls -l
cat package.json 
cat package-lock.json 
ls -l
cat settings.js 
cd /usr/bin/
ls
cd env
which node-red
cd /etc/systemd/system/
sudo vi node-red.service 
history
sudo systemctrl daemon-reload
sudo systemctl daemon-reload
sudo systemctl enable node-red
sudo systemctl start node-red
sudo systemctl status node-red
pwd
ls
sudo vi node-red.service 
sudo systemctl daemon-reload
sudo systemctl enable node-red
sudo systemctl start node-red
sudo systemctl status node-red
sudo systemctl stop node-red
sudo systemctl status node-red
sudo systemctl start node-red
sudo systemctl status node-red
which node-red
sudo systemctl daemon-reload
sudo systemctl restart node-red
sudo systemctl status node-red
ps aux |grep node
kill 133451
sudo systemctl daemon-reload
sudo systemctl restart node-red
sudo systemctl status node-red
which node
which npm
which
пвд
pwd
ls
sudo vi node-red.service 
sudo systemctl daemon-reload
sudo systemctl restart node-red
sudo systemctl status node-red
ls -l /home/opc/.nvm/versions/node/v22.18.0/bin/
sudo vi node-red.service 
sudo systemctl daemon-reload
sudo systemctl restart node-red
sudo systemctl status node-red
source /home/opc/.nvm/nvm.sh
nvm use 22
npm install -g --unsafe-perm node-red
which node-red
sudo vi node-red.service 
sudo systemctl status node-red
sudo systemctl start node-red
sudo systemctl daemon-reload
sudo systemctl start node-red
sudo systemctl status node-red
sudo vi node-red.service 
sudo systemctl daemon-reload
sudo systemctl start node-red
sudo systemctl status node-red
journalctl -u node-red -n 50 --no-pager
ls
sudo vi node-red.service 
history
sudo systemctl daemon-reload
sudo systemctl restart node-red
sudo systemctl status node-red
sudo vi node-red.service 
ls /home/opc/.nvm/versions/node/v22.18.0/bin
which node-red

sudo vi node-red.service 
sudo systemctl daemon-reload
sudo systemctl restart node-red
sudo systemctl status node-red
cat node-red.service 
/home/opc/.nvm/versions/node/v22.18.0/bin/node-red-pi
which node-red
which node-red-pi
sudo vi
sudo vi node-red-start
chmod +x node-red-start 
sudo chmod +x node-red-start 
ls -l
sudo vi node-red.service 
ls
./node-red-start 
sudo vi node-red-start 
sudo systemctl daemon-reload
sudo systemctl restart node-red
sudo systemctl status node-red
journalctl -u node-red -n 50 --no-pager
ls
pwd
sudo vi node-red.service 
sudo systemctl daemon-reload
sudo systemctl restart node-red
sudo systemctl status node-red
journalctl -u node-red -n 50 --no-pager
sudo vi node-red.service 
pwd
sudo vi node-red.service 
sudo systemctl daemon-reload
sudo systemctl restart node-red
sudo systemctl status node-red
journalctl -u node-red -n 50 --no-pager
ls -l
chmod 777 node-red-start 
sudo chmod 777 node-red-start 
ls -l
sudo systemctl daemon-reload
sudo systemctl restart node-red
sudo systemctl status node-red
journalctl -u node-red -n 50 --no-pager
cat node-red.service 
sudo vi node-red.service 
cat node-red.service 
journalctl -u node-red -n 50 --no-pager
ls -l /etc/systemd/system/node-red-start
ls -Z /etc/systemd/system/node-red-start
sudo restorecon -v /etc/systemd/system/node-red-start
ls -Z /etc/systemd/system/node-red-start
sudo systemctl restart node-red
sudo systemctl daemon-reload
sudo systemctl restart node-red
journalctl -u node-red -n 50 --no-pager
mosquitto
sudo yum install mosquitto -y
sudo systemctl enable --now mosquitto
mosquitto
sudo yum install mosquitto -y
sudo yum install mosquitto 
sudo yum install -y oracle-epel-release-el9
sudo yum install -y mosquitto mosquitto-clients
sudo yum install -y wget
sudo wget -O /etc/yum.repos.d/mosquitto.repo https://repo.mosquitto.org/yum/mosquitto.repo
sudo yum install -y mosquitto mosquitto-clients
sudo dnf install -y oracle-epel-release-el8  # или el9, в зависимости от версии
sudo dnf install -y snapd
sudo systemctl enable --now snapd.socket
sudo ln -s /var/lib/snapd/snap /snap
sudo dnf install -y oracle-epel-release-el9
sudo dnf install -y snapd
sudo wget -O /etc/yum.repos.d/mqtt.repo   http://download.opensuse.org/repositories/home:/oojah:/mqtt/CentOS_8_Stream/home:oojah:mqtt.repo
sudo dnf install -y mosquitto mosquitto-clients
cd
mkdir mosquitto
cd mosquitto/
sudo dnf groupinstall -y "Development Tools"
sudo dnf install -y cmake gcc gcc-c++ make c-ares-devel libuuid-devel libwebsockets-devel openssl-devel
wget https://mosquitto.org/files/source/mosquitto-2.0.18.tar.gz
tar xvf mosquitto-2.0.18.tar.gz
cd mosquitto-2.0.18
mkdir build && cd build
cmake ..
make -j$(nproc)
sudo make install
pwd
cmake ..
sudo dnf install -y cmake gcc gcc-c++ make
cmake ..
make -j$(nproc)
sudo make install
cmake ..
sudo dnf install -y openssl-devel
sudo dnf install -y c-ares-devel libuuid-devel libwebsockets-devel
cd
sudo dnf install -y cmake gcc gcc-c++ make openssl-devel zlib-devel
wget https://github.com/warmcat/libwebsockets/archive/refs/tags/v4.3.3.tar.gz
tar -xzf v4.3.3.tar.gz
cd libwebsockets-4.3.3
mkdir build && cd build
cmake .. -DCMAKE_BUILD_TYPE=Release -DLWS_WITH_SSL=ON
make -j$(nproc)
sudo make install
sudo ldconfig
cd ..
ls
cd mosquitto/
ls
cd mosquitto-2.0.18/
ls
cd build/
pwd
rm -rf *
cmake ..
make -j$(nproc)
sudo make install
mosquitto
sudo vi /etc/systemd/system/mosquitto.service
sudo systemctl daemon-reload
sudo systemctl enable --now mosquitto
cat /usr/local/etc/mosquitto/mosquitto.conf
view /usr/local/etc/mosquitto/mosquitto.conf
sudo vi /usr/local/etc/mosquitto/mosquitto.conf
sudo firewall-cmd --add-port=1883/tcp --permanent
sudo firewall-cmd --reload
mosquitto_sub -h localhost -t test/topic
cd
mosquitto_sub -h localhost -t test/topic
sudo sh -c "echo /usr/local/lib >> /etc/ld.so.conf.d/mosquitto.conf"
sudo ldconfig
sudo sh -c "echo /usr/local/lib >> /etc/ld.so.conf.d/mosquitto.conf"
sudo ldconfig
ldconfig -p | grep libmosquitto
sudo sh -c "echo /usr/local/lib >> /etc/ld.so.conf.d/mosquitto.conf"
sudo ldconfig
ldconfig -p | grep libmosquitto
ldconfig -p 
ldconfig -p | grep libmosquitto
sudo find /usr/local -name "libmosquitto.so*"
cat  /etc/ld.so.conf.d/mosquitto.conf
sudo vi  /etc/ld.so.conf.d/mosquitto.conf
sudo ldconfig
ldconfig -p | grep libmosquitto
mosquitto_sub -h localhost -t test/topic
node-red-pi 
top
ps aux |grep node
node-red-pi 
pwd
node --version
npm --version
node-red-pi 
pwd
node-red-pi 
pwd
ls -a
cd .node-red/
ls
ls -litr
date
cat flows.json 
ls
cat settings.js 
ls -l
vi pid_helper.js
ls -l
vi settings.js 
ps aux |grep node
kill 857577
ps aux |grep node
node-red-pi 
cd .node-red/
ls
vi pid_helper.js 
ps aux |grep node
node-red-pi 
ps aux |grep node
kill 861265
cd .node-red/
vi pid_helper.js 
node-red-pi 
ps aux |grep node
kill 1005551
ps aux |grep node
node-red-pi 
tail nodered_1.log 
tail
node-red-pi 
vi ~/nodered_1.log
ls -ltr
pwd
ls -ltr
cat nodered_1.log 
ls -ltr
cat nodered_1.log 
ls -ltr
tail nodered_1.log 
cd .ssh
ls
cd .ssh/
ls
ls -l
cat authorized_keys 
sudo systemctl restart sshd
ls -ltr
chmod 700 ~/.ssh
chmod 600 ~/.ssh/authorized_keys
chown opc:opc ~/.ssh ~/.ssh/authorized_keys
sudo systemctl restart sshd
cd 
cd /etc/ssh/
ls
cat ssh_config
view ssh_config
ls -l ssh_config
sudo vi ssh_config
ls -l
view ssh_config
ls -l
cd ssh_config.d/
ls
cat 50-redhat.conf 
view 50-redhat.conf 
cd ..
ls
sudo ssh_config
ls -l
sudo vi ssh_config
sudo systemctl restart sshd
pwd
cd 
cd .ssh/
ls -l
cat authorized_keys 
ls -ltr
tail n 10 nodered_1.log 
tail -fn 10 nodered_1.log 
node-red-pi 
cd .node-red/
ls
cd ..
ls -a
ls -al
cd mosquitto/
ls
cd mosquitto-2.0.18/
ls
cat mosquitto.conf 
cd /usr/local/etc/mosquitto/
ls -ltr
sudo vi mosquitto.conf 
sudo systemctl restart mosquitto
sudo ss -tulpn | grep mosquitto
ps aux |grep node
kill 74690
ps aux |grep node
sudo ss -tulpn | grep mosquitto
sudo systemctl status mosquitto
sudo systemctl start mosquitto
cat /var/log/mosquitto/mosquitto.log
sudo ss -tulpn | grep mosquitto
sudo systemctl status mosquitto
mosquitto_sub -h localhost -p 1883 -t esp32/sensors -v
node-red-pi 
cd /usr/local/etc/mosquitto/
ls
sudo vi mosquitto.conf 
history
sudo systemctl restart mosquitto
sudo ss -tulpn | grep mosquitto
websocat ws://localhost:9001/mqtt
node-red-pi 
